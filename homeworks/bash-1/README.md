1. Есть скрипт:
	```bash
	a=1
	b=2
	c=a+b
	d=$a+$b
	e=$(($a+$b))
	```
	* Какие значения переменным c,d,e будут присвоены?
	* Почему?

```
c=a+b # Потому что "a+b" это строка
d=1+2 # $a выведет значение 1, $b выведет значение 2, и получится строка "1+2"
e=3 # произойдет арифметическое сложение 1 + 2
```

2. На нашем локальном сервере упал сервис и мы написали скрипт, который постоянно проверяет его доступность, записывая дату проверок до тех пор, пока сервис не станет доступным. В скрипте допущена ошибка, из-за которой выполнение не может завершиться, при этом место на Жёстком Диске постоянно уменьшается. Что необходимо сделать, чтобы его исправить:
	```bash
	while ((1==1)
	do
	curl https://localhost:4757
	if (($? != 0))
	then
	date >> curl.log
	fi
	done
	```

Исправленный вариант:

```bash
while ((1 == 1)); do
  curl https://localhost:4757

  if (($? != 0)); then
    date >>curl.log
    sleep 5
  else
    echo "Service is running normally"
    break
  fi
done


```

3. Необходимо написать скрипт, который проверяет доступность трёх IP: 192.168.0.1, 173.194.222.113, 87.250.250.242 по 80 порту и записывает результат в файл log. Проверять доступность необходимо пять раз для каждого узла.

Скрипт:

```
declare -i try=0

list_ip=("192.168.0.1:80" "173.194.222.113:80" "87.250.250.242:80")

while (($try < 5)); do
  for ip in ${list_ip[@]}; do
    {
      echo "$try. check for $ip: "
      curl --connect-timeout 5 $ip;
      echo ""
    } >>logs.log 2>&1
  done
  let "try += 1"
  sleep 5
done

```

4. Необходимо дописать скрипт из предыдущего задания так, чтобы он выполнялся до тех пор, пока один из узлов не окажется недоступным. Если любой из узлов недоступен - IP этого узла пишется в файл error, скрипт прерывается

## Дополнительное задание (со звездочкой*) - необязательно к выполнению

Мы хотим, чтобы у нас были красивые сообщения для коммитов в репозиторий. Для этого нужно написать локальный хук для git, который будет проверять, что сообщение в коммите содержит код текущего задания в квадратных скобках и количество символов в сообщении не превышает 30. Пример сообщения: \[04-script-01-bash\] сломал хук.

Дописанная программа:

```bash
#!/usr/bin/env bash

declare -i available=1
declare -i last_status=0
list_ip=("192.168.0.1:80" "173.194.222.113:80" "87.250.250.242:80")

while (($available == 1)); do
  for ip in ${list_ip[@]}; do
    {
      curl --connect-timeout 5 $ip 1>/dev/null 2>/dev/null
      last_status=$?

      if (($last_status != 0)); then
        echo "$ip is not available" >>error.log
        available=0
        break
      fi
    }
  done
  if (($last_status == 0)); then
    let "try += 1"
    sleep 5
  fi
done
```

---

### Дополнительное задание (со звездочкой*) - необязательно к выполнению

Для этого нужно создать файл ```commit-msg``` в директории ```.git/hooks```



